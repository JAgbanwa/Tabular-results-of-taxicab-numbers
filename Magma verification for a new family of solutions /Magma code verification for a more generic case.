// Quadratic field Q(sqrt(3))
K<sqrt3> := QuadraticField(3);

// Fix m
m := 1;

// Loop over k = 0..9
for k in [0..9] do

    p1 := (2 + sqrt3)^k;
    p2 := (2 - sqrt3)^k;

    // Define C(c1,m)
    C := (-2*3^(m+1) + 3^m*((9 + sqrt3)*p1 + (9 - sqrt3)*p2)) / 4;

    // Define A(c1,m)
    A := C + 3^(m+1);

    // Define B(c1,m)
    B := (-2*3^(m+2) + 3^m*((1 + 3*sqrt3)*p1 - (3*sqrt3 - 1)*p2)) / 4;

    // Define D(c1,m)
    D := B + 3^(m+2);

    // Convert to integers
    Aint := Integers() ! A;
    Bint := Integers() ! B;
    Cint := Integers() ! C;
    Dint := Integers() ! D;

    lhs := Aint^3 + Bint^3;
    rhs := Cint^3 + Dint^3;

    if lhs eq rhs then
        printf "k = %o VERIFIED\n", k;
        printf "A = %o\nB = %o\nC = %o\nD = %o\n\n",
               Aint, Bint, Cint, Dint;
    else
        printf "k = %o failed\n", k;
    end if;

end for;
